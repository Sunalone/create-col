import u from"inquirer";import p from"fs-extra";import f from"chalk";import g from"ora";import w from"download-git-repo";import d from"path";function o(e,t){console.log(`${f[t](e)}`)}function y(e){return e==null?void 0:e.trim().replace(/\/+$/g,"")}function h(e,t){const{framework:c,language:m}=t,a=g("Downloading Template");return a.color="blue",new Promise(async(s,i)=>{a.start();const l=d.join(process.cwd(),e);w(`github:Sunalone/${c}-${m}-template`,l,r=>{r?(a.fail("Download failed"),i(r)):(a.succeed("Download success"),s(!0))})})}o("Start Creating Cli -------------------","green");const n=y(process.argv[2]);n?v(n):(o("The project name cannot be empty\uFF01","red"),process.exit(1));function v(e){if(o(e,"green"),p.existsSync(e)){o("Has the same name project,please input another projectName\uFF01","yellow");return}new u.prompt([{name:"framework",type:"list",message:"Select your framework",choices:[{name:"Vue",value:"vue"},{name:"React",value:"react"}]},{name:"language",type:"list",message:"Select your language",choices:[{name:"JavaScript",value:"js"},{name:"TypeScript",value:"ts"}]}]).then(async t=>{await h(e,t)}).catch(t=>{o(t,"red")})}
